<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Rata-rata</title>
  </head>
  <body>
    <p id="pAvg">Average Student</p>
    <table border="1" style="width: 20%">
      <tr>
        <td>Alice</td>
        <td id="1">20</td>
      </tr>
      <tr>
        <td>Bob</td>
        <td id="2">21</td>
      </tr>
      <tr>
        <td>Jane</td>
        <td id="3">20</td>
      </tr>
    </table>
    <button onclick="calculateStudents()">Submit</button>

    <script>
      const myFunction = new Promise((resolve) => {
        let x = document.getElementById("1").innerHTML;
        let y = document.getElementById("2").innerHTML;
        let z = document.getElementById("3").innerHTML;

        let total = x + y + z;
        let average = total / 3;
        resolve(average);
      });

	 function wait(ms){
			return new Promise(resolve => setTimeout(resolve,ms));
		}
		wait(2000).then(() => {

		});

    function calculateStudents() {
        console.log("calculation start");
        myFunction.then((res) => console.log("age is", res)).catch(console.log);
        console.log("second call started");
        wait(2000)
          .then(() => {
            console.log("second call finished");
            console.log("third call started");
            return wait(5000);
          })
          .then(() => console.log("third call finished"));
      }

    </script>
  </body>
</html>